<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="donationApproval">

	
	<!-- 기부자 전체 목록 가져오기 -->
	<select id="getAllDoner" resultType="donationApprovalVo">
		 select d.doner
		      ,a.mem_id
		      ,d.doner_phone
		      ,a.app_time
		      ,a.app_pay
		      ,d.doner_comment
		from donation d, approval a
		where a.app_id(+) = d.app_id
	</select>
	
	<!-- 특정 기부자 조회하기 -->
	<select id="getDonationApproval" parameterType="int" resultType="donationApprovalVo">
		 select d.doner
		      ,a.mem_id
		      ,d.doner_phone
		      ,a.app_time
		      ,a.app_pay
		      ,d.doner_comment
		from donation d, approval a
		where a.app_id(+) = d.app_id
		and d.app_id = #{app_id}
	</select>
	
	<!-- 기부자 중 회원/비회원 목록 가져오기 -->
	<select id="getDoner_memYN" parameterType="string" resultType="donationApprovalVo">
		select d.doner
		      ,a.mem_id
		      ,d.doner_phone
		      ,a.app_time
		      ,a.app_pay
		      ,d.doner_comment
		from donation d, approval a
		where a.app_id(+) = d.app_id
		and d.mem_yn = #{mem_yn}
	</select>
	
	
	

</mapper>