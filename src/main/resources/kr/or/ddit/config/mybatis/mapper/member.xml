<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">
	<!-- 전체 사용자 리스트 조회 하기 -->
	<select id="getMemList" resultType="memberVo">
		SELECT *
		FROM MEMBER
		ORDER BY mem_id
	</select>

	<!-- 특정 사용자 조회 -->
	<select id="getMemVo" resultType="memberVo"
		parameterType="String">
		SELECT *
		FROM MEMBER
		WHERE mem_id = #{mem_id}
	</select>

	<!-- 전체 사용자 수 조회 -->
	<select id="memberCnt" resultType="int">
		SELECT /*+ INDEX_FFS(MEMBER PK_MEMBER)*/ COUNT(*)
		FROM MEMBER
	</select>


	<!-- 사용자 등록 -->
	<!-- <insert id="insertMem" parameterType="userVo"> INSERT INTO MEMBER VALUES 
		(#{userId}, #{name}, #{alias}, #{pass}, #{addr1}, #{addr2}, #{zipcd}, #{birth}, 
		#{path, jdbcType=VARCHAR}, #{filename, jdbcType=VARCHAR}) </insert> -->

	<!-- 사용자 삭제 -->
	<delete id="deleteMem" parameterType="String">
		UPDATE MEMBER
		set mem_del = 'Y'
		WHERE mem_id=#{mem_id}
	</delete>




	<update id="updateMem" parameterType="memberVo">
		UPDATE member
		SET
		mem_pass = #{mem_pass},
		mem_phone = #{mem_phone},
		mem_add1 = #{mem_add1},
		mem_add2 = #{mem_add2},
		mem_mail = #{mem_mail},
		mem_photo_path = #{mem_photo_path},
		mem_photo_nm = #{mem_photo_nm}
		WHERE mem_id = #{mem_id}
	</update>



   	<update id="updatePMem" parameterType="memberVo">
		UPDATE member
		SET
		mem_pass = #{mem_pass},
		mem_phone = #{mem_phone},
		mem_add1 = #{mem_add1},
		mem_add2 = #{mem_add2},
		mem_mail = #{mem_mail},
		mem_photo_path = #{mem_photo_path},
		mem_photo_nm = #{mem_photo_nm},
		pro_relation = #{pro_relation},
		pro_nm = #{pro_nm},
		pro_phone = #{pro_phone}
		WHERE mem_id = #{mem_id}
	</update>


	<!-- 사용자 비밀번호 암호화 적용 대상 조회 -->
	<!-- <select id="userListForPassEncrypt" resultType="userVo"> SELECT * FROM 
		USERS WHERE USERID NOT IN ('BROWN', 'USERTEST') </select> -->

	<!-- 사용자 비밀번호 업데이트 -->
	<!-- <update id="updateUserEncryptPass" parameterType="userVo"> UPDATE USERS 
		SET PASS = #{pass} WHERE USERID = #{userId} </update> -->

</mapper>