<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="category">



<!-- 	모든 카테고리를 불러온다 -->
	<select id="getCategoryList" resultType="CategoryVo"
		parameterType="String">
		select * from category

	</select>




<!-- 	대분류 카테고리를 불러온다 -->
	<select id="getMajorCategoryList" resultType="CategoryVo">
			select * from category
		where cate_paerent_id is null
        
	</select>



<!-- 	소분류 카테고리를 불러온다 -->
	<select id="getMinorCategoryList" resultType="CategoryVo" parameterType="int">
		   
        		select * from category
		where cate_paerent_id is not  null and cate_paerent_id =#{cate_id} 

	</select>




	<update id="deleteMajorCategory" parameterType="int">
		update category set
			cate_usage = 'N'
			where cate_id = #{cate_id} or cate_paerent_id =#{cate_id} 
		</update>


	<update id="deleteMinorCategory" parameterType="int">
		update category set
			cate_usage = 'N'
			where cate_id = #{cate_id}
		</update>




	<update id="useMajorCategory" parameterType="int">
		update category set
			cate_usage = 'Y'
			where cate_id = #{cate_id} or cate_paerent_id =#{cate_id} 
		</update>


	<update id="useMinorCategory" parameterType="int">
		update category set
			cate_usage = 'Y'
			where cate_id = #{cate_id}
		</update>





<update id="updateCategoryTitle" parameterType="CategoryVo">
	update category set
	cate_title = #{cate_title}
	where cate_id = #{cate_id}
		</update>



</mapper>