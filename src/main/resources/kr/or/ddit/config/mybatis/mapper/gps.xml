<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="gps">

	<insert id="insertGps" parameterType="gpsVo">
		insert into gps values(GPS_ID.nextval
							   , #{mem_id}
							   , #{gold_st}
							   , sysdate
							   , #{gps_lo}
							   , #{gps_la}
							   ,#{car_bpm}
							   )
	</insert>
	<select id="getGoldMember" parameterType="String" resultType="gpsVo">
		SELECT * FROM GOLD WHERE MEM_ID = #{mem_id}
	</select>
	
	<select id="getCardiac" parameterType="String" resultType="int">
		SELECT * FROM (SELECT CAR_BPM FROM  GPS WHERE MEM_ID=#{mem_id} ORDER BY ROWNUM DESC) WHERE ROWNUM = 1
	</select>
	


</mapper>